!function(){"use strict";var a={},d=100,e=0,f=!1,g=null,h=null,i=function(a){return Object.freeze?Object.freeze(a):a},j=function(){return window.location.href.split("#")},k=function(){g||(g=setInterval(function(){e>0&&h!=window.location.href&&(h=window.location.href,window.Hash.check())},d))};window.Hash=i({pushState:function(a){return window.history&&window.history.pushState&&(f=a),this},fragment:function(){var a=j();return f?window.location.pathname+(a[1]?"#"+a[1]:""):a[1]||""},get:function(a,b){var c,e=[];for(c in b)Object.prototype.hasOwnProperty(c)&&e.push(encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return e.length>0&&(e="?"+e.join("&")),f?a+e:j()[0]+"#"+a+e},go:function(a,b){if(this.fragment()!=a){var c=this.get(a,b);f?window.history.pushState(null,document.title,c):window.location.href=c}return this},update:function(){return h=window.location.href,this},on:function(b,c,d){return a[b]||(a[b]={title:d,listeners:[]}),a[b].listeners.push(c),e++,k(),this},check:function(){var b,c,d,e=this.fragment();for(c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(a[c].regexp=a[c].regexp||new RegExp(c),d=a[c].regexp.exec(e))for(a[c].title&&(document.title=a[c].title),b=0;b<a[c].listeners.length;b++)a[c].listeners[b].yep&&a[c].listeners[b].yep(e,d);else for(b=0;b<a[c].listeners.length;b++)a[c].listeners[b].nop&&a[c].listeners[b].nop(e);return this}})}();
